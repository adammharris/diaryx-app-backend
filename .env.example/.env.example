# Diaryx Backend (.env.example)
# Copy this file to `.env` and fill in the required values.
# This file configures the Elysia (Bun) backend hosted at https://api.diaryx.net

# ------------------------------------------------------------------------------------
# REQUIRED
# ------------------------------------------------------------------------------------

# PostgreSQL connection string (Neon or any Postgres-compatible DB).
# Example (Neon): postgres://<user>:<password>@<host>/<database>?sslmode=require
DATABASE_URL=postgres://user:password@host/db?sslmode=require

# Secret used by Better Auth for signing/verifying tokens.
# Use a long, random string (e.g., 32+ chars).
BETTER_AUTH_SECRET=replace-with-a-long-random-secret

# ------------------------------------------------------------------------------------
# OPTIONAL
# ------------------------------------------------------------------------------------

# Port for the backend to listen on (Bun/Elysia). Defaults to 3000.
# When deploying behind a platform proxy, you may not need to set this.
# PORT=3000

# Public URL for the auth server (if a separate service needs to know it).
# Not required for the backend itself, but available for integrations.
# If hosting on api.diaryx.net, you can set:
# BETTER_AUTH_URL=https://api.diaryx.net
# or
# AUTH_URL=https://api.diaryx.net

# List of additional trusted origins for Better Auth CSRF/origin checks.
# Comma or newline-separated.
# These are merged with safe defaults; override only if needed.
# TRUSTED_ORIGINS=https://app.diaryx.net, https://your-frontend.example.com
# AUTH_TRUSTED_ORIGINS=https://app.diaryx.net, https://your-frontend.example.com

# ------------------------------------------------------------------------------------
# NOTES
# ------------------------------------------------------------------------------------
# - The backend mounts Better Auth at basePath="/", so auth endpoints live under:
#     https://api.diaryx.net/api/auth/*
# - The frontend should call API endpoints under:
#     https://api.diaryx.net/api/*
# - Ensure HTTPS is used in production so auth cookies can be set with:
#     Secure; SameSite=None
# - Tables (diaryx_note, diaryx_visibility_term) are auto-created on first access.
# - CORS is enabled via @elysiajs/cors; configure your proxy/CDN to allow credentials.
